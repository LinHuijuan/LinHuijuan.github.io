(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{625:function(t,a,s){t.exports=s.p+"assets/img/mid.b18b25ff.png"},812:function(t,a,s){"use strict";s.r(a);var e=s(17),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"位运算"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#位运算"}},[t._v("#")]),t._v(" 位运算")]),t._v(" "),e("p",[t._v("[TOC]")]),t._v(" "),e("ul",[e("li",[e("p",[t._v("底层的计算机语言")])]),t._v(" "),e("li",[e("p",[t._v("平常的数值运算，其本质都是先转换成二进制再进行运算的，而位运算是直接进行二进制运算，所以"),e("strong",[t._v("原则上位运算的执行效率是比较高的。")])])])]),t._v(" "),e("h2",{attrs:{id:"一、符号介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、符号介绍"}},[t._v("#")]),t._v(" 一、符号介绍")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("运算符")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("用法")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("描述")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_AND",target:"_blank",rel:"noopener noreferrer"}},[t._v("按位与（ AND）"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("a & b")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("两个位都是1，结果才为1。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_OR",target:"_blank",rel:"noopener noreferrer"}},[t._v("按位或（OR）"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("a | b")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("两个位都是0，结果才为0.")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_XOR",target:"_blank",rel:"noopener noreferrer"}},[t._v("按位异或（XOR）"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("a ^ b")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("两个位相同时为0，相异为1。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Bitwise_NOT",target:"_blank",rel:"noopener noreferrer"}},[t._v("按位非（NOT）"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("~ a")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("反转操作数的比特位，即0变成1，1变成0。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Left_shift",target:"_blank",rel:"noopener noreferrer"}},[t._v("左移（L"),e("OutboundLink")],1),e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Left_shift",target:"_blank",rel:"noopener noreferrer"}},[t._v("eft shift）"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("a << b")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将 "),e("code",[t._v("a")]),t._v(" 的二进制形式向左移 "),e("code",[t._v("b")]),t._v(" (< 32) 比特位，右边用0填充。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Right_shift",target:"_blank",rel:"noopener noreferrer"}},[t._v("有符号右移"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("a >> b")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将 a 的二进制表示向右移"),e("code",[t._v("b")]),t._v("(< 32) 位，丢弃被移出的位。正数高位补0，低位补1。")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Bitwise_Operators#Unsigned_right_shift",target:"_blank",rel:"noopener noreferrer"}},[t._v("无符号右移"),e("OutboundLink")],1)]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("code",[t._v("a >>> b")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("将 a 的二进制表示向右移"),e("code",[t._v("b")]),t._v("(< 32) 位，丢弃被移出的位，并使用 0 在左侧填充。")])])])]),t._v(" "),e("h2",{attrs:{id:"二、基本应用"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、基本应用"}},[t._v("#")]),t._v(" 二、基本应用")]),t._v(" "),e("ol",[e("li",[e("p",[e("code",[t._v("n & 1")]),t._v(" 相当于 "),e("code",[t._v("n % 2")]),t._v("。")]),t._v(" "),e("ul",[e("li",[t._v("二进制中偶数的最后一位是0，奇数的最后一位是1，而十进制1在8位二进制中表示为0000 0001。")])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isOld")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("n")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" n "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("isOld")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("n")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" n "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br"),e("span",{staticClass:"line-number"},[t._v("7")]),e("br")])])]),t._v(" "),e("li",[e("p",[t._v("使用"),e("code",[t._v("~, >>, <<, >>>, |")]),t._v("来"),e("strong",[t._v("取整")])]),t._v(" "),e("ul",[e("li",[t._v("从概念上讲，按位逻辑操作符按遵守下面规则：\n"),e("ul",[e("li",[t._v("操作数被转换成32位整数，用比特序列（0和1组成）表示。超过32位的数字会被丢弃。")]),t._v(" "),e("li",[t._v("具有32位以上的整数将转换为32位整数，所以小数部分会被舍弃。")])])])])])]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 相当于正数的Math.floor(),负数的Math.ceil()")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.83")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 6")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("~")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.83")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// -6")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.83")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 6")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.83")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<<")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 6")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.83")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 6")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br"),e("span",{staticClass:"line-number"},[t._v("4")]),e("br"),e("span",{staticClass:"line-number"},[t._v("5")]),e("br"),e("span",{staticClass:"line-number"},[t._v("6")]),e("br")])]),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// >>>不可对负数取整")]),t._v("\nconsole"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6.83")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">>>")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 6")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br")])]),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[t._v("a<<b 相当于 a*(2^b)")])]),t._v(" "),e("li",[e("p",[t._v("a>>b 相当于 a/(2^b)")])]),t._v(" "),e("li",[e("p",[t._v("a^a=0;a^0=a;(a^b)^c=a^(b^c) => 交换两位数")]),t._v(" "),e("div",{staticClass:"language-js line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("a "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^=")]),t._v(" b"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//a = a ^ b ")]),t._v("\nb "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^=")]),t._v(" a"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//b = a ^ b = (a ^ b) ^ b = a ^ (b ^ b) = a ^ 0 = a ")]),t._v("\na "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("^=")]),t._v(" b"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\t"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//a = a ^ b = (a ^ b) ^ b = (a ^ a) ^ b = b ^ 0 = b")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[t._v("1")]),e("br"),e("span",{staticClass:"line-number"},[t._v("2")]),e("br"),e("span",{staticClass:"line-number"},[t._v("3")]),e("br")])])]),t._v(" "),e("li",[e("p",[t._v("对2^n的数值进行取余运算：a&15 = a%16")])]),t._v(" "),e("li",[e("p",[t._v("求相反数：-a=~a+1=~(a-1) =>~x=-x-1")])]),t._v(" "),e("li",[e("p",[t._v("求绝对值：a>>31==0？a:(~a+1)")])]),t._v(" "),e("li",[e("p",[t._v("取int型变量a的第k位 (k=0,1,2……sizeof(int))，即a>>k&1")])]),t._v(" "),e("li",[e("p",[t._v("整数的平均值：对于两个整数x,y，如果用 (x+y)/2 求平均值，会产生溢出，因为 x+y 可能会大于INT_MAX，但是我们知道它们的平均值是肯定不会溢出的。(x&y)+((x^y)>>1")])]),t._v(" "),e("li",[e("p",[t._v("对于一个整数 x >= 0，判断他是不是2的幂： ((x&(x-1))==0)&&(x!=0)")])]),t._v(" "),e("li",[e("p",[t._v("当一个数满足(num & (num - 1)) === 0，则这个数是2的整数次幂。")]),t._v(" "),e("ul",[e("li",[t._v("2的整数次幂的二进制特点：第一位是1，后面都是0。")]),t._v(" "),e("li",[t._v("1000...0 - 1 = 0111...1")]),t._v(" "),e("li",[t._v("1000...0 & 0111...1 = 0")])])]),t._v(" "),e("li",[e("p",[t._v("取中位数时，避免计算上出现整型溢出。")]),t._v(" "),e("ul",[e("li",[t._v("mid = (low + high)/2 或 low + (high - low)/2 都有可能溢出，其中 low + (high - low)/2 会取不到high值。")]),t._v(" "),e("li",[t._v("mid = (low+high)>>>1，当整型溢出时，会得到负数，再通过无符号右移运算符就可以得到正数。")])])])]),t._v(" "),e("p",[e("img",{attrs:{src:s(625),alt:""}})])])}),[],!1,null,null,null);a.default=n.exports}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{667:function(t,e,a){t.exports=a.p+"assets/img/git.bc45f71f.jpg"},883:function(t,e,a){"use strict";a.r(e);var s=a(17),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"git"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git"}},[t._v("#")]),t._v(" Git")]),t._v(" "),s("p",[s("img",{attrs:{src:a(667),alt:"git"}})]),t._v(" "),s("ul",[s("li",[t._v("工具")]),t._v(" "),s("li",[t._v("版本控制")]),t._v(" "),s("li",[t._v("分布式-基本不担心版本库的丢失")]),t._v(" "),s("li",[t._v("不用连接中央服务器，随地都可以工作")]),t._v(" "),s("li",[t._v("提交到github就可以保证多人协作")])]),t._v(" "),s("p",[t._v("[TOC]")]),t._v(" "),s("h2",{attrs:{id:"一、git的三个区"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#一、git的三个区"}},[t._v("#")]),t._v(" 一、git的三个区")]),t._v(" "),s("ul",[s("li",[t._v("工作区")]),t._v(" "),s("li",[t._v("暂存区\n"),s("ul",[s("li",[t._v("作为过渡层")]),t._v(" "),s("li",[t._v("避免误操作")]),t._v(" "),s("li",[t._v("保护工作区和版本区")]),t._v(" "),s("li",[t._v("分支处理：等版本确定无误后，合并到主分支")])])]),t._v(" "),s("li",[t._v("版本区（库）")])]),t._v(" "),s("h2",{attrs:{id:"二、git命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二、git命令"}},[t._v("#")]),t._v(" 二、git命令")]),t._v(" "),s("h3",{attrs:{id:"_2-1-创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-创建"}},[t._v("#")]),t._v(" 2.1 创建")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("创建命令")]),t._v(" "),s("th",[t._v("含义")]),t._v(" "),s("th",[t._v("其他")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("git init")])]),t._v(" "),s("td",[t._v("创建版本库")]),t._v(" "),s("td",[t._v("初始化一个git仓库")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("touch <file.name>")])]),t._v(" "),s("td",[t._v("创建一个文件")]),t._v(" "),s("td")])])]),t._v(" "),s("h3",{attrs:{id:"_2-2-查看"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-查看"}},[t._v("#")]),t._v(" 2.2 查看")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("查看命令")]),t._v(" "),s("th",[t._v("含义")]),t._v(" "),s("th",[t._v("其他")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("git status")])]),t._v(" "),s("td",[t._v("查看暂存区和工作区的状态")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git reflog")]),t._v(" 文件名")]),t._v(" "),s("td",[t._v("查看版本号")]),t._v(" "),s("td",[t._v("查看恢复的日志 上面有commit_id")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("cat <file.name>")])]),t._v(" "),s("td",[t._v("显示文本内容")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git log")])]),t._v(" "),s("td",[t._v("查看提交的日志")]),t._v(" "),s("td",[t._v("只会显示部分，按回车往下查看，按键盘Q推出")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git branch")])]),t._v(" "),s("td",[t._v("查看分支")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git branch --merged")])]),t._v(" "),s("td",[t._v("查看合并过的分支")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git branch --no-merged")])]),t._v(" "),s("td",[t._v("查看没有合并过的分支")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git config --list")])]),t._v(" "),s("td",[t._v("查看所有配置项")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git remote")])]),t._v(" "),s("td",[t._v("查看远程仓库的名字")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git remote -v")])]),t._v(" "),s("td",[t._v("查看仓库fetch和push的地址")]),t._v(" "),s("td")])])]),t._v(" "),s("h3",{attrs:{id:"_2-3-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-配置"}},[t._v("#")]),t._v(" 2.3 配置")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("配置命令")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v('git config --global user.name "Your Name"')])]),t._v(" "),s("td",[t._v("设置贡献者名字")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v('git config --global user.email "email@example.com"')])]),t._v(" "),s("td",[t._v("设置贡献者邮箱")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-4-提交"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-提交"}},[t._v("#")]),t._v(" 2.4 提交")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("提交命令")]),t._v(" "),s("th",[t._v("含义")]),t._v(" "),s("th",[t._v("其他")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("git add <file.name>")])]),t._v(" "),s("td",[t._v("将文件提交到暂存区")]),t._v(" "),s("td",[s("code",[t._v("git add .")]),t._v(" 将所有文件提交到暂存区")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v('git commit -m "注释"')])]),t._v(" "),s("td",[t._v("提交文件到本地库")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git commit '注释'--amend")])]),t._v(" "),s("td",[t._v("撤销回上一次提交，然后重新提交")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git -a -m '注释'")])]),t._v(" "),s("td",[t._v("工作区到缓存区再到版本库")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git push origin master")])]),t._v(" "),s("td",[t._v("同步到远程仓库的版本库中")]),t._v(" "),s("td",[t._v("从远程获取最新版本并merge到本地")])])])]),t._v(" "),s("blockquote",[s("p",[t._v("不要用 git push --force，而要用 git push --force-with-lease 代替。在你上次提交之后，只要其他人往该分支提交给代码，git push --force-with-lease 会拒绝覆盖。")])]),t._v(" "),s("blockquote",[s("p",[t._v("远程库的名字就是origin，这是Git默认的叫法，也可以改成别的，但是origin这个名字一看就知道是远程库。")])]),t._v(" "),s("h3",{attrs:{id:"_2-5-撤销"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-撤销"}},[t._v("#")]),t._v(" 2.5 撤销")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("撤销命令")]),t._v(" "),s("th",[t._v("含义")]),t._v(" "),s("th",[t._v("其他")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("git reset --hard HEAD^")])]),t._v(" "),s("td",[t._v("回退一个版本")]),t._v(" "),s("td",[t._v("从暂存区撤销回工作区")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git reset --hard HEAD~<num>")])]),t._v(" "),s("td",[t._v("回退n个版本")]),t._v(" "),s("td",[t._v("版本恢复到过去的前n个版本")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git reset --hard commit_id")])]),t._v(" "),s("td",[t._v("到所指定的版本号的版本")]),t._v(" "),s("td",[t._v("复制commit的id号时只复制前一部分即可")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git checkout <file.name>")])]),t._v(" "),s("td",[t._v("还原文件")]),t._v(" "),s("td",[t._v("将工作区的版本撤销回版本库的状态")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git checkout commit_id <file.name>")])]),t._v(" "),s("td",[t._v("指定文件的恢复")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git reset <file.name>")])]),t._v(" "),s("td",[t._v("撤销某个文件暂存区的提交")]),t._v(" "),s("td")])])]),t._v(" "),s("blockquote",[s("p",[t._v("git pull后想回退版本")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git reflog master (查看本地master分支历史变动记录)\n得到一下结果：\n    a1ed85e (master) master@{0}: commit: test\n    a7575f0 master@{1}: commit: add CHAME\n    9dafea8 master@{2}: commit: change\n    144aed6 master@{3}: commit (initial): first commit\ngit reset --hard <COMMIT_ID> (恢复到指定版本)\n    git reset --hard master@{0}\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"_2-6-删除"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-删除"}},[t._v("#")]),t._v(" 2.6 删除")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("删除命令")]),t._v(" "),s("th",[t._v("含义")]),t._v(" "),s("th",[t._v("其他")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("git rm <file.name>")])]),t._v(" "),s("td",[t._v("只有工作区删了而暂存区没删的时候可以用，用来删除缓存区文件")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("–git rm -f <file.name>")])]),t._v(" "),s("td",[t._v("强制删除工作区和暂存区的文件")]),t._v(" "),s("td",[t._v("f就是force")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git rm --cached <file.name>")])]),t._v(" "),s("td",[t._v("去掉某个文件的版本追踪")]),t._v(" "),s("td",[t._v("只会删除暂存区的文件，不会删工作区的")])])])]),t._v(" "),s("h3",{attrs:{id:"_2-7-分支"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-7-分支"}},[t._v("#")]),t._v(" 2.7 分支")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("分支命令")]),t._v(" "),s("th",[t._v("含义")]),t._v(" "),s("th",[t._v("其他")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("git branch 分支名")])]),t._v(" "),s("td",[t._v("创建分支")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git checkout 分支名")])]),t._v(" "),s("td",[t._v("切换分支")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git merge 分支名")])]),t._v(" "),s("td",[t._v("合并分支")]),t._v(" "),s("td",[t._v("先切换到主干,版本改变，master指针往前移")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git checkout -b 分支名")])]),t._v(" "),s("td",[t._v("创建并切换到新建的分支")]),t._v(" "),s("td")]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git branch -d 分支名")])]),t._v(" "),s("td",[t._v("删除分支")]),t._v(" "),s("td",[t._v("只有合并过的分支才能删除")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git branch -D 分支名")])]),t._v(" "),s("td",[t._v("强制删除没有合并过的分支")]),t._v(" "),s("td")])])]),t._v(" "),s("h3",{attrs:{id:"_2-8-命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-8-命令"}},[t._v("#")]),t._v(" 2.8 命令")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("对比命令")]),t._v(" "),s("th",[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[s("code",[t._v("git diff")])]),t._v(" "),s("td",[t._v("工作区和暂存区的对比")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git diff --cached")])]),t._v(" "),s("td",[t._v("暂存区和版本库的对比")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git diff --staged")])]),t._v(" "),s("td",[t._v("暂存区和版本库的对比")])]),t._v(" "),s("tr",[s("td",[s("code",[t._v("git diff master")])]),t._v(" "),s("td",[t._v("工作区和版本库的对比")])])])]),t._v(" "),s("h2",{attrs:{id:"三、ssh-keys"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三、ssh-keys"}},[t._v("#")]),t._v(" 三、SSH keys")]),t._v(" "),s("blockquote",[s("p",[t._v("ssh是一种安全的传输模式，github要求推送代码的用户是合法的，所以每次推送时候都要输入账号密码，用以验证你是否为合法用户。")])]),t._v(" "),s("h3",{attrs:{id:"_3-1-创建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-创建"}},[t._v("#")]),t._v(" 3.1 创建")]),t._v(" "),s("ul",[s("li",[t._v("省去每次都要输入密码的步骤\n"),s("ul",[s("li",[t._v("在你的电脑生成了一个唯一的ssh公钥和私钥，公钥放到github上面，私钥放在本机且无法截获。")]),t._v(" "),s("li",[t._v("当你推送的时候，git就会匹配你的私钥是否跟github上面的公钥是配对的，正确就认为你是合法的，允许推送。")])])])]),t._v(" "),s("h4",{attrs:{id:"_3-1-1-给git加ssh-key"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-给git加ssh-key"}},[t._v("#")]),t._v(" 3.1.1 给git加ssh-key")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("查看根目录下是否有.ssh目录")])]),t._v(" "),s("li",[s("p",[t._v("若没有则生成一个ssh-key\n"),s("code",[t._v('ssh-keygen -t rsa -C "email@mail.com"')]),t._v("\n连按三次回车")])]),t._v(" "),s("li",[s("p",[t._v("将.~/ssh/id_rsa.pub内容加入你的github中")])]),t._v(" "),s("li",[s("p",[t._v("设置你的git用户名及邮箱")])])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('git config --global user.name "name"\ngit config --global user.email "email@mail.com"\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("ol",{attrs:{start:"5"}},[s("li",[t._v("测试你的ssh-key\n"),s("code",[t._v("ssh -T git@github.com")]),t._v("\n输入yes后若显示\n"),s("code",[t._v("Hi xxx! You’ve successfully authenticated, but GitHub does not provide shell access.")]),t._v("\n则代表成功。")])]),t._v(" "),s("h4",{attrs:{id:"_3-1-2-解决github上传ssh-key后仍须输入密码的问题"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-2-解决github上传ssh-key后仍须输入密码的问题"}},[t._v("#")]),t._v(" 3.1.2 解决github上传ssh-key后仍须输入密码的问题")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("这种事情通常发生在更换机器后克隆自己仓库的时候，通常我们会使用"),s("code",[t._v("https")]),t._v("方式克隆")]),t._v(" "),s("p",[s("code",[t._v("git clone https://github.com/Name/project.git")])]),t._v(" "),s("p",[t._v("这样便会在你git push时候要求输入用户名和密码")])]),t._v(" "),s("li",[s("p",[t._v("解决的方法是使用ssh方式克隆仓库\n"),s("code",[t._v("git clone git@github.com:Name/project.git")])])]),t._v(" "),s("li",[s("p",[t._v("https方式克隆后改ssh方式")]),t._v(" "),s("p",[t._v("只需将 .git/config文件中的\n"),s("code",[t._v("url = <https://github.com/Name/project.git>")]),t._v("\n一行改为\n"),s("code",[t._v("url = git@github.com:Name/project.git")])])])]),t._v(" "),s("h2",{attrs:{id:"四、一般操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#四、一般操作"}},[t._v("#")]),t._v(" 四、一般操作")]),t._v(" "),s("p",[t._v("远程要先建仓库。")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("初始化一个Git仓库"),s("code",[t._v("git init")])])]),t._v(" "),s("li",[s("p",[t._v("添加文件到Git仓库")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("git add <file.name>")]),t._v("可反复多次使用，添加多个文件")]),t._v(" "),s("li",[s("code",[t._v("git commit")])])])]),t._v(" "),s("li",[s("p",[t._v("随时掌握工作区的状")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git status\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ol",[s("li",[t._v("若修改过，查看修改内容"),s("code",[t._v("git diff")])])])]),t._v(" "),s("li",[s("p",[t._v("在版本的历史之间穿梭")]),t._v(" "),s("ol",[s("li",[t._v("HEAD指向的版本就是当前版本"),s("code",[t._v("git reset --hard commit_id")])]),t._v(" "),s("li",[s("code",[t._v("git log")]),t._v("查看提交历史，确定回退版本")]),t._v(" "),s("li",[s("code",[t._v("git reflog")]),t._v("查看命令历史，确定重返版本")])])]),t._v(" "),s("li",[s("p",[t._v("关联一个远程库")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git remote add origin git@server-name:path/repo-name.git\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("示例："),s("code",[t._v("$ git remote add origin git@github.com:michaelliao/learngit.git")])])])]),t._v(" "),s("li",[s("p",[t._v("第一次推送master分支的所有内容")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git push -u origin master\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("由于远程库是空的，我们第一次推送master分支时，加上了-u参数")]),t._v(" "),s("li",[t._v("Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来")]),t._v(" "),s("li",[t._v("在以后的推送或者拉取时就可以简化命令。")])])]),t._v(" "),s("li",[s("p",[t._v("以后的每次本地提交后，"),s("code",[t._v("git push origin master")]),t._v("推送最新修改")])]),t._v(" "),s("li",[s("p",[t._v("创建新的分支，提交后合并分支")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[t._v("$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout -b branchName\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v(".")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" commit -m "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'XXX'")]),t._v("\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push origin branchName\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" checkout master\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" merge origin/branchName\n$ "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" push\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br")])])])]),t._v(" "),s("h2",{attrs:{id:"五、多人协作解决冲突"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#五、多人协作解决冲突"}},[t._v("#")]),t._v(" 五、多人协作解决冲突")]),t._v(" "),s("p",[t._v("– "),s("code",[t._v("git fetch")]),t._v("相当于是从远程获取最新版本到本地，不会自动合并")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("git diff master origin/master")])]),t._v(" "),s("li",[s("code",[t._v("git merge orgin/master")])])]),t._v(" "),s("h3",{attrs:{id:"_5-1-开源项目协作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-开源项目协作"}},[t._v("#")]),t._v(" 5.1 开源项目协作")]),t._v(" "),s("ul",[s("li",[t._v("fork")]),t._v(" "),s("li",[t._v("pull request")])]),t._v(" "),s("h2",{attrs:{id:"六、报错案例"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#六、报错案例"}},[t._v("#")]),t._v(" 六、报错案例")]),t._v(" "),s("h3",{attrs:{id:"_6-1-案例一"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-案例一"}},[t._v("#")]),t._v(" 6.1 案例一")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git push -u origin master\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("报错如下：")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("error: failed to push some refs to 'git@github.com:你的远程库名.git'\nhint: Updates were rejected because the tip of your current branch is behind\nhint: its remote counterpart. Integrate the remote changes (e.g.\nhint: 'git pull ...') before pushing again.\nhint: See the 'Note about fast-forwards' in 'git push --help' for details.\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("ol",[s("li",[t._v("由于两者不同步，因此需要先pull，进行合并然后在进行push。\n"),s("ul",[s("li",[t._v("将远程文件同步下来"),s("code",[t._v("git pull --rebase origin master")])]),t._v(" "),s("li",[t._v("执行推送"),s("code",[t._v("git push -u origin master")])])])])]),t._v(" "),s("h3",{attrs:{id:"_6-2-案例二"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-案例二"}},[t._v("#")]),t._v(" 6.2 案例二")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("remote add origin git@github.com:djqiang（github帐号名）/gitdemo（项目名）.git\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("报错信息："),s("code",[t._v("fatal: Could not read from remote repository")])]),t._v(" "),s("li",[t._v("原因：remote origin already exists.")]),t._v(" "),s("li",[t._v("解决办法如下：")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("$ git remote rm origin\n$ git remote add origin git@github.com:djqiang/gitdemo.git\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h2",{attrs:{id:"七、git钩子"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、git钩子"}},[t._v("#")]),t._v(" 七、Git钩子")]),t._v(" "),s("blockquote",[s("p",[t._v("参考教程："),s("a",{attrs:{href:"https://www.jianshu.com/p/f3d17c11bb8a",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 钩子 hook 介绍与使用"),s("OutboundLink")],1)])]),t._v(" "),s("h3",{attrs:{id:"_7-1-启用及触发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-启用及触发"}},[t._v("#")]),t._v(" 7.1 启用及触发")]),t._v(" "),s("h4",{attrs:{id:"_7-1-1-启用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-1-启用"}},[t._v("#")]),t._v(" 7.1.1 启用")]),t._v(" "),s("ul",[s("li",[t._v("将"),s("code",[t._v(".git/hooks")]),t._v("下的文件名，去掉后缀"),s("code",[t._v(".sample")]),t._v("即可启用。")])]),t._v(" "),s("h4",{attrs:{id:"_7-1-2-触发"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-2-触发"}},[t._v("#")]),t._v(" 7.1.2 触发")]),t._v(" "),s("h5",{attrs:{id:"_7-1-2-1-post-receive"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-2-1-post-receive"}},[t._v("#")]),t._v(" 7.1.2.1 "),s("code",[t._v("post-receive")])]),t._v(" "),s("ul",[s("li",[t._v("在整个过程完结以后运行，可以用来更新其他系统服务或者通知用户。")]),t._v(" "),s("li",[t._v("即，当服务端收到一个push操作请求时触发，可用于检测push的内容。")])]),t._v(" "),s("h5",{attrs:{id:"_7-1-2-2-update"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-2-2-update"}},[t._v("#")]),t._v(" 7.1.2.2 "),s("code",[t._v("update")])]),t._v(" "),s("ul",[s("li",[t._v("与pre-receive相似，但当一次push想更新多个分支时，pre-receive只执行一次，而此钩子会为每一分支都执行一次。")])]),t._v(" "),s("h2",{attrs:{id:"八、其他"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#八、其他"}},[t._v("#")]),t._v(" 八、其他")]),t._v(" "),s("ul",[s("li",[t._v("资源\n"),s("ul",[s("li",[s("a",{attrs:{href:"http://git.oschina.net/progit/",target:"_blank",rel:"noopener noreferrer"}},[t._v("git的中文教程"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://pages.github.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("在github上创建博客的教程"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/001375234012342f90be1fc4d81446c967bbdc19e7c03d3000",target:"_blank",rel:"noopener noreferrer"}},[t._v("省心省力的配置别名"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://github.com/521xueweihan/git-tips/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git的奇技淫巧"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://blog.csdn.net/nima1994/article/details/107985198",target:"_blank",rel:"noopener noreferrer"}},[t._v("github.io（github pages）访问不了"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.jianshu.com/p/f3d17c11bb8a",target:"_blank",rel:"noopener noreferrer"}},[t._v("Git 钩子 hook 介绍与使用"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://www.jianshu.com/p/d264f88d13a4",target:"_blank",rel:"noopener noreferrer"}},[t._v("Commitizen的安装和使用（标准化Git的Commit Message）"),s("OutboundLink")],1)])])]),t._v(" "),s("li",[t._v("官方镜像\n"),s("ul",[s("li",[t._v("https://registry.npmjs.org/")])])]),t._v(" "),s("li",[t._v("淘宝镜像")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" --registry https://registry.npm.taobao.org\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_8-1-替换远程仓库关联"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-替换远程仓库关联"}},[t._v("#")]),t._v(" 8.1 替换远程仓库关联")]),t._v(" "),s("ol",[s("li",[t._v("解除旧分支的关联")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote remove origin\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("关联新分支")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" origin https://xxxxxxx/wangdong/helloworld.git\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_8-2-强制覆盖本地代码"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-强制覆盖本地代码"}},[t._v("#")]),t._v(" 8.2 强制覆盖本地代码")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" fetch --all "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" reset --hard origin/master "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" pull\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("第一个是：拉取所有更新，不同步；\n第二个是：本地代码同步线上最新版本(会覆盖本地所有与远程仓库上同名的文件)；\n第三个是：再更新一次（其实也可以不用，第二步命令做过了其实）")]),t._v(" "),s("p",[t._v("备注： 命令连接符 && 的意思是 前一条命令执行成功才执行后一条命令。\n扩展：命令连接符 ;; 的意思是 不论前一条是否执行成功都继续执行后一条命令。")]),t._v(" "),s("h3",{attrs:{id:"_8-3-禁止上传指定文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-禁止上传指定文件"}},[t._v("#")]),t._v(" 8.3 禁止上传指定文件")]),t._v(" "),s("h4",{attrs:{id:"_8-3-1-规则"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-1-规则"}},[t._v("#")]),t._v(" 8.3.1 规则")]),t._v(" "),s("div",{staticClass:"language-.gitnore line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# 此为注释 – 将被 Git 忽略\n\n*.a # 忽略所有 .a 结尾的文件\n\n!lib.a # 但 lib.a 除外\n\n/TODO # 仅仅忽略项目根目录下的 TODO 文件，不包括 subdir/TODO\n\nbuild/ # 忽略 build/ 目录下的所有文件\n\ndoc/*.txt # 会忽略 doc/notes.txt 但不包括 doc/server/arch.txt\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br")])]),s("h4",{attrs:{id:"_8-3-2-已经推送-push-过的文件-想在以后的提交时忽略此文件-即使本地已经修改过-而且不删除git远程库中相应文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-2-已经推送-push-过的文件-想在以后的提交时忽略此文件-即使本地已经修改过-而且不删除git远程库中相应文件"}},[t._v("#")]),t._v(" 8.3.2 已经推送（push）过的文件，想在以后的提交时忽略此文件，即使本地已经修改过，而且不删除git远程库中相应文件")]),t._v(" "),s("ul",[s("li",[t._v("忽略文件")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" update-index --assume-unchanged Xml/config.xml\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("忽略目录")])]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" update-index --assume-unchanged "),s("span",{pre:!0,attrs:{class:"token variable"}},[s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$(")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" ls-files "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tr")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'\\n'")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("' '")]),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v(")")])]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h4",{attrs:{id:"_8-3-3-已经推送-push-过的文件-想从git远程库中删除-并在以后的提交中忽略-但是却还想在本地保留这个文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-3-已经推送-push-过的文件-想从git远程库中删除-并在以后的提交中忽略-但是却还想在本地保留这个文件"}},[t._v("#")]),t._v(" 8.3.3 已经推送（push）过的文件，想从git远程库中删除，并在以后的提交中忽略，但是却还想在本地保留这个文件")]),t._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("rm")]),t._v(" --cached Xml/config.xml\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h3",{attrs:{id:"_8-4-修改分支名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-修改分支名"}},[t._v("#")]),t._v(" 8.4 修改分支名")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("对于未提交到远程的，直接"),s("code",[t._v("git branch -m oldName newName")])])]),t._v(" "),s("li",[s("p",[t._v("而已经提交到远程的，其实就是删除远程的，再把本地的新分支推到远程去")]),t._v(" "),s("ul",[s("li",[t._v("删除远程分支")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git push --delete origin oldName\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("上传新命名的本地分支")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git push origin newName\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("ul",[s("li",[t._v("本地分支和远程分支关联")])]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("git branch --set-upstream-to origin/newName\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])])])])}),[],!1,null,null,null);e.default=r.exports}}]);